<div>
    <div id="map" marker 
    courts="courts"
    currentcourt="currentcourt" 
    map="map" 
    markernow="markernow"
    markers="markers" 
    infowindow="infowindow" 
    editmode="editmode" 
    finishedit="finishedit"
    deletemarker="deletemarker"
    expanded="expanded"></div>
    <button title="定位(解除瀏覽器的封鎖才可以使用喔)" type="button" id="geolocate" class="geolocateBtn"
    ng-click="geolocate()">
    	<span class="glyphicon glyphicon-screenshot"></span>
    </button>
    <!-- Make a button that let user select the courts to appear -->
    <button class="btn" 
    ng-class="{'btn-primary': !enable, 'btn-success': enable}"
    id="addMarker" ng-init="enable=false" ng-show="isAdmin" ng-click="enable = !enable; enableAddMarker(enable)">
        <span class="glyphicon" 
        ng-class="{'glyphicon-map-marker': !enable, 'glyphicon-ok': enable}"></span>
    </button>
    <!-- Slide button for court detail -->
    <button class="btn btn-primary slideBtn" slide-toggle="#detail" expanded="expanded" map="map" ng-model="expanded" 
    ng-show="currentcourt">
        <span class="glyphicon"
        ng-class="{'glyphicon-chevron-up': !expanded, 'glyphicon-chevron-down': expanded}"></span>
    </button>
    
    <div id="detail" class="court-detail slideable" ng-show="currentcourt">
        <div class="row">
            <div ng-mouseover="hovered=true" ng-mouseleave="hovered=false" class="picture-area" ng-class="{'col-sm-12': hovered, 'col-sm-3': !hovered}">
                <!-- Court name -->
                
                <div ng-controller="uploadCtrl">
                    <div class="wrapper">
                        <div ng-hide="hovered" class="singleImage">
                            <img ng-src="{{slides[0].url}}">
                        </div>
                        <div ng-show="hovered" ng-repeat="slide in slides" class="carousel">
                            <div>
                                <a ng-click="openLightboxModal($index)">
                                    <img ng-src="{{slide.url}}">
                                </a>
                                <button class="picDeleteBtn" ng-click="deletePic(slide)">
                                    <span class="glyphicon glyphicon-trash">
                                    </span>
                                </button>
                            </div>
                        </div> 
                    </div>
                </div>
                &nbsp
            </div>
            <div class="infoBox" ng-class="{'col-sm-3': !hovered}" ng-hide="hovered">
                <!-- City -->
                <h2>{{markernow.title}}</h2>
                </h2>
                <!-- Hours -->
                <p>開放時間:</p>
                <div ng-repeat="courthour in currentcourt.hours track by $index">
                    <p ng-show="courthour">
                        {{courthour.begin}}~{{courthour.end}}
                    </p>
                </div>
                 <!-- Peaktime -->
                <p>尖峰:</p>
                <div ng-repeat="courthour in currentcourt.peaktime track by $index">
                    <p ng-show="courthour">
                        {{courthour.begin}}~{{courthour.end}}
                    </p>
                </div>
            </div>
            <div class="infoBox" ng-class="{'col-sm-3': !hovered}" ng-hide="hovered">
                <!-- Indoor -->
                <h2>球場情報</h2>
                <div class="col-sm-6">
                    <p ng-show="currentcourt.indoor">室內</p>
                    <p ng-show="!currentcourt.indoor">室外</p>
                    <!-- Net -->
                    <p>籃網:{{currentcourt.net | exist}}</p>
                    <!-- Basket number -->
                    <p>籃框數:{{currentcourt.basketnumber}}</p>
                    <!-- Floor -->
                    <p>地質:{{currentcourt.floor}}</p>
                </div>
                <div class="col-sm-6">
                    <p>屋簷:{{currentcourt.ceiling | exist}}</p>
                    <!-- Water -->
                    <p>飲水機:{{currentcourt.water.exist | exist}}&nbsp{{currentcourt.water.desc}}</p>
                    <p>廁所:{{currentcourt.toilet.exist | exist}}&nbsp{{currentcourt.toilet.desc}}</p>
                </div>
            </div>
            <div class="infoBox" ng-class="{'col-sm-3': !hovered}" ng-hide="hovered">
                <h2>管理員留言</h2>
                <p>{{currentcourt.desc}}</p>
                <!--Upload page-->
                <div id="uploadPic" class="editPage col-lg-12" 
                ng-include="'app/courts/temp/upload.page.html'" 
                ng-init="upload=false" ng-show="upload" 
                ng-click="uploadmode()"
                ></div>
                <!--Edit page-->
                <div id="courtEditPage" class="editPage col-lg-12" 
                ng-include="'app/courts/temp/edit.page.html'" 
                ng-init="edit=false" ng-show="edit" 
                ng-click="editmode()"></div>
            </div>
            <div class="editBtns">
                <!--Upload button-->
                <button class="editDetailButton" ng-click="uploadmode()" ng-model="upload" 
                ng-show="currentcourt">
                    <span class="glyphicon glyphicon-camera"></span>
                </button>
                <!--Edit button-->
                <button class="editDetailButton"
                ng-click="editmode()" ng-model="edit" 
                ng-show="currentcourt"><span class="glyphicon glyphicon-pencil"></span></button>
            </div>
        </div>
    </div>
</div>